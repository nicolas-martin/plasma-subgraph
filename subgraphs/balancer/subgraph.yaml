specVersion: 0.0.4
schema:
    file: ./schema.graphql
dataSources:
    - kind: ethereum
      name: Balancer
      network: plasma-mainnet
      source:
          address: "0xba1333333333a1ba1108e8412f11850a5c319ba9"
          abi: Balancer
          startBlock: 2856160
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.7
          language: wasm/assemblyscript
          entities:
              - Pool
              - User
              - Swap
              - LiquidityAdd
              - LiquidityRemove
              - SwapFeeUpdate
              - TokenVolume
              - DailyPoolMetrics
              - Vault
          abis:
              - name: Balancer
                file: ./abi/balancer.json
          eventHandlers:
              - event: PoolRegistered(indexed address,indexed address,(address,uint8,address,bool)[],uint256,uint32,(address,address,address),(bool,bool,bool,bool,bool,bool,bool,bool,bool,bool,address),(bool,bool,bool,bool))
                handler: handlePoolRegistered
              - event: Swap(indexed address,indexed address,indexed address,uint256,uint256,uint256,uint256)
                handler: handleSwap
              - event: LiquidityAdded(indexed address,indexed address,indexed uint8,uint256,uint256[],uint256[])
                handler: handleLiquidityAdded
              - event: LiquidityRemoved(indexed address,indexed address,indexed uint8,uint256,uint256[],uint256[])
                handler: handleLiquidityRemoved
              - event: SwapFeePercentageChanged(indexed address,uint256)
                handler: handleSwapFeePercentageChanged
          file: ./src/mapping.ts