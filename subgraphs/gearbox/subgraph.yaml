specVersion: 0.0.4
description: Gearbox Pool Subgraph
schema:
    file: ./schema.graphql
dataSources:
    - kind: ethereum
      name: GearboxPool
      network: plasma-mainnet
      source:
          address: "0x76309a9a56309104518847bba321c261b7b4a43f"
          abi: gearbox
          startBlock: 3030117
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.7
          language: wasm/assemblyscript
          entities:
              - Pool
              - User
              - CreditManager
              - Deposit
              - Withdraw
              - Borrow
              - Repay
              - Transfer
              - UncoveredLoss
          abis:
              - name: gearbox
                file: ./abi/gearbox.json
          eventHandlers:
              - event: Deposit(indexed address,indexed address,uint256,uint256)
                handler: handleDeposit
              - event: Withdraw(indexed address,indexed address,indexed address,uint256,uint256)
                handler: handleWithdraw
              - event: Borrow(indexed address,indexed address,uint256)
                handler: handleBorrow
              - event: Repay(indexed address,uint256,uint256,uint256)
                handler: handleRepay
              - event: Transfer(indexed address,indexed address,uint256)
                handler: handleTransfer
              - event: AddCreditManager(indexed address)
                handler: handleAddCreditManager
              - event: IncurUncoveredLoss(indexed address,uint256)
                handler: handleIncurUncoveredLoss
          file: ./src/mapping.ts
