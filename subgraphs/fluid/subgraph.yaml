specVersion: 0.0.4
schema:
    file: ./schema.graphql
dataSources:
    - kind: ethereum
      name: Fluid
      network: plasma-mainnet
      source:
          address: "0x1DD4b13fcAE900C60a350589BE8052959D2Ed27B"
          abi: Fluid
          startBlock: 2856160
      mapping:
          kind: ethereum/events
          apiVersion: 0.0.7
          language: wasm/assemblyscript
          entities:
              - User
              - UserPosition
              - Deposit
              - Withdrawal
              - Transfer
              - Rebalance
              - RateUpdate
              - RebalancerUpdate
              - RewardsUpdate
              - RescueFunds
              - DailyVaultMetrics
              - Vault
          abis:
              - name: Fluid
                file: ./abi/fluid.json
          eventHandlers:
              - event: Deposit(indexed address,indexed address,uint256,uint256)
                handler: handleDeposit
              - event: Withdraw(indexed address,indexed address,indexed address,uint256,uint256)
                handler: handleWithdraw
              - event: Transfer(indexed address,indexed address,uint256)
                handler: handleTransfer
              - event: LogRebalance(uint256)
                handler: handleLogRebalance
              - event: LogUpdateRates(uint256,uint256)
                handler: handleLogUpdateRates
              - event: LogUpdateRebalancer(indexed address)
                handler: handleLogUpdateRebalancer
              - event: LogUpdateRewards(indexed address)
                handler: handleLogUpdateRewards
              - event: LogRescueFunds(indexed address)
                handler: handleLogRescueFunds
          file: ./src/mapping.ts